# Backend Folder Structure

The `src` directory is organized to separate concerns, enforce modularity, and maintain extensive scalability.

## Root Directory (`src/`)

| Directory | Description |
| :--- | :--- |
| **`common/`** | Shared utilities, DTOs, interfaces, and interceptors used across multiple modules. |
| **`config/`** | Configuration files and environment variable validation schemas. |
| **`database/`** | Database connection setup and seeds. |
| **`decorators/`** | Custom NestJS decorators (e.g., `@CurrentUser`). |
| **`entities/`** | **All** TypeORM entities, organized by domain (e.g., `system/`, `hris/`). |
| **`guards/`** | Authentication and authorization guards (e.g., `JwtAuthGuard`, `RolesGuard`). |
| **`management/`** | Scripts or modules for system management tasks. |
| **`middlewares/`** | Express middlewares for request processing (middleware runs before guards). |
| **`migrations/`** | Database migration files generated by TypeORM. |
| **`modules/`** | **The Core**. Feature modules containing business logic by domain. |
| **`scripts/`** | Standalone utility scripts. |
| **`types/`** | Global TypeScript type definitions and enums (e.g., `PaginatedResult`). |

## Key Directories Explained

### `modules/`
This is where 90% of development happens. It is strictly organized by domain:
-   `modules/system/`: Core system modules (Users, Tenants, Auth, Roles).
-   `modules/shared/`: Reusable feature modules (Email, Storage).
-   `modules/[feature]/`: Specific business domains (e.g., `logistics/`, `finance/`).

### `entities/`
We follow a centralized entity pattern. Entities are **NOT** located inside `modules/`. They live in `src/entities/` to prevent circular dependencies and allow global access to the data model.

### `common/` vs `types/`
-   **`common/`**: Contains *runtime* code. Helper functions, base classes, generic DTOs.
-   **`types/`**: Contains *type definitions* only. Interfaces, Enums, Types. No logic.
